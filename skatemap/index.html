<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„œìš¸ ìŠ¤ì¼€ì´íŠ¸ë³´ë“œ íŒŒí¬ ì§€ë„</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        html, body { margin: 0; padding: 0; width: 100%; height: 100%; }
        #map { width: 100%; height: 100%; }
        
        /* ì •ë³´ì°½ ë°•ìŠ¤ */
        .wrap { 
            padding: 0; 
            width: 280px; 
            background: #fff; 
            font-family: 'Malgun Gothic', sans-serif;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            overflow: hidden; 
        }
        
        /* í—¤ë” */
        .info-header { 
            padding: 10px;
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: #f1f2f6; 
            border-bottom: 1px solid #ddd;
            height: 30px; 
        }
        .info-title { font-weight: bold; font-size: 14px; color: #333; margin: 0; }
        
        /* ë‚œì´ë„ ë°°ì§€ ìƒ‰ìƒ */
        .badge { padding: 2px 5px; border-radius: 3px; font-size: 11px; color: white; font-weight: bold;}
        .hard { background-color: #ff4757; }   /* ë¹¨ê°• */
        .medium { background-color: #ffa502; } /* ì£¼í™© */
        .easy { background-color: #2ed573; }   /* ì´ˆë¡ */

        /* ìŠ¬ë¼ì´ë” ì˜ì—­ */
        .slider-container {
            position: relative;
            width: 100%;
            height: 160px;
            background: #fff;
        }

        .slide-item { width: 100%; height: 100%; display: none; }
        .slide-item.active { display: block; }

        /* [1ë²ˆ ìŠ¬ë¼ì´ë“œ] í…ìŠ¤íŠ¸ ì„¤ëª…íŒ */
        .text-slide {
            padding: 15px 25px; 
            box-sizing: border-box;
            background-color: #fff;
            color: #333;
            overflow-y: auto; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            display: none;
        }
        .text-slide.active { display: flex; }

        .info-row { font-size: 13px; margin-bottom: 8px; line-height: 1.5; }
        .info-label { font-weight: bold; color: #333; margin-right: 5px; display:inline-block; width: 40px;}
        .img-slide { object-fit: cover; }
        
        /* í™”ì‚´í‘œ ë²„íŠ¼ */
        .prev-btn, .next-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.1); 
            color: #333;
            border: none;
            padding: 10px 5px;
            cursor: pointer;
            font-size: 18px;
            z-index: 10;
            font-weight: bold;
        }
        .prev-btn:hover, .next-btn:hover { background-color: rgba(0,0,0,0.3); color: white;}
        .prev-btn { left: 0; } .next-btn { right: 0; }
        
        .page-indicator {
            position: absolute;
            bottom: 5px; right: 10px; font-size: 10px; color: rgba(0,0,0,0.5);
            background: rgba(255,255,255,0.7); padding: 2px 5px; border-radius: 3px; z-index: 20;
        }
    </style>
</head>
<body>

    <div id="map"></div>

    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=9dca9728dc03540c74a0fdd9c0e84c56"></script>

    <script>
        var mapContainer = document.getElementById('map'), 
            mapOption = { 
                center: new kakao.maps.LatLng(37.567475, 127.004690), // ì‹œì‘: í›ˆë ¨ì› ê³µì›
                level: 8 
            };
        var map = new kakao.maps.Map(mapContainer, mapOption); 

        // ë¹¨ê°„ìƒ‰ ë¾°ì¡± í•€
        var imageSrc = "https://maps.google.com/mapfiles/ms/icons/red-dot.png"; 
        var imageSize = new kakao.maps.Size(32, 32); 
        var imageOption = {offset: new kakao.maps.Point(16, 32)}; 
        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);

        // ë°ì´í„° ë¦¬ìŠ¤íŠ¸ (ë³´ë‚´ì£¼ì‹  ë‚´ìš© ì ìš© + ì€í‰ ì¶”ê°€)
        var skateParks = [
            { title: "í›ˆë ¨ì› ê³µì›", lat: 37.567475, lng: 127.004690, level: "ìƒê¸‰", levelClass: "hard", hours: "08:00-20:00", desc: "ìŠ¤íŠ¸ë¦¿ ì„±ì§€, ëŒ€ë¦¬ì„ íƒ€ì¼ ë°”ë‹¥, ë°”ë‹¥ ë§ì´ ê¹¨ì ¸ìˆì–´ì„œ ë‚œì´ë„ ë†’ìŒ", images: ["./culti1.jpg"] },
            { title: "ì‚´ê³¶ì´ ìŠ¤ì¼€ì´íŠ¸íŒŒí¬", lat: 37.553866, lng: 127.046971, level: "ì´ˆ/ì¤‘ê¸‰", levelClass: "easy", hours: "08:00-23:00", desc: "23ì‹œ ì†Œë“±, í‰ì§€ ê³µê°„ í˜‘ì†Œ.", images: ["./salgoji1.jpg"] },
            { title: "ì„œìš¸ìˆ² ìŠ¤ì¼€ì´íŠ¸íŒŒí¬", lat: 37.5457255, lng: 127.0422293, level: "ì´ˆ/ì¤‘ê¸‰", levelClass: "easy", hours: "08:00-22:00", desc: " ë°”ë‹¥ ì¬ì§ˆ ì•ˆì¢‹ìŒ, ì•¼ê°„ì— ì¡°ëª… ìˆì§€ë§Œ ì–´ë‘ì›€", images: ["./seoulforest1.jpg"] },
            { title: "ì´ì´Œ í•œê°•ê³µì›", lat: 37.5193588, lng: 126.9661931, level: "ì´ˆê¸‰", levelClass: "easy", hours: "24ì‹œê°„", desc: "ë‹¤ë¦¬ ë°‘ ê·¸ëŠ˜. ë°”ë‹¥ ë¶€ë“œëŸ¬ì›€.", images: ["./ichon1.jpg"] },
            { title: "ê´‘ë‚˜ë£¨ ìŠ¤ì¼€ì´íŠ¸íŒŒí¬", lat: 37.5395428, lng: 127.114726, level: "ì¤‘ê¸‰", levelClass: "medium", hours: "24ì‹œê°„", desc: "ë…¸ë€ ê¸°ë¬¼, ë°”ë‹¥ ë§¤ìš° ë§¤ë„ëŸ¬ì›€.", images: ["./gwangnaru1.jpg"] },
            { title: "ë…¸í•´ ìŠ¤ì¼€ì´íŠ¸íŒŒí¬", lat: 37.6484306, lng: 127.0704715, level: "ìƒê¸‰", levelClass: "hard", hours: "09-22ì‹œ", desc: "ì˜¬ë¦¼í”½ ê·œê²©. ë³´ìš¸(Bowl) ë³´ìœ .", images: ["./nohae1.png","./nohae2.jpg"] },
            { title: "ëšì„¬ í•œê°•ê³µì›", lat: 37.529235, lng: 127.069562, level: "ìƒê¸‰", levelClass: "hard", hours: "24ì‹œê°„", desc: "ì„œìš¸ ìµœëŒ€ ê·œëª¨ íŒŒí¬, ë‚œë„ ë†’ì€ ê¸°ë¬¼ë¶€í„° í‰ì§€ê¹Œì§€ ë‚œì´ë„ë³„ë¡œ ë‹¤ì–‘", images: ["./ttukseom1.jpg"] },
            { title: "ë‚œì§€ ìµìŠ¤íŠ¸ë¦¼ì¥", lat: 37.568461, lng: 126.874672, level: "ì¤‘ê¸‰", levelClass: "medium", hours: "09-18ì‹œ", desc: "í•˜í”„íŒŒì´í”„ ë³´ìœ .", images: ["./nanji1.jpg"] },
            { title: "ë³´ë¼ë§¤ê³µì›", lat: 37.493922, lng: 126.920977, level: "ì´ˆê¸‰", levelClass: "easy", hours: "06-22ì‹œ", desc: "ëŒ€íšŒ ì½”ìŠ¤ êµ¬ì„±, í—¬ë©§ í•„ìˆ˜.", images: ["./boramae1.jpg"] },
            { title: "ë””ë””ë¯¸ ìŠ¤ì¼€ì´íŠ¸íŒŒí¬", lat: 37.5784979, lng: 127.0347585, level: "ì¤‘ê¸‰", levelClass: "medium", hours: "09:00-23:00", desc: "ì •ë¦‰ì²œë³€ ë‹¤ë¦¬ë°‘ì— ìœ„ì¹˜, ìš°ì²œ ì‹œ ë²”ëŒ ì£¼ì˜, ì¡°ëª…ì´ ì¢‹ì•„ì„œ ì•¼ê°„ì—ë„ ì˜ ë³´ì„", images: ["./dedimi1.jpg"] },
            { title: "ìµìŠ¤íŠ¸ë¦¼ ì€í‰", lat: 37.638671, lng: 126.9172385, level: "ì¤‘ê¸‰", levelClass: "medium", hours: "12:00-19:00 (ì›” íœ´ë¬´)", desc: "ì€í‰êµ¬ ìµœì´ˆ ì „ìš© íŒŒí¬. ì¸ê³µì•”ë²½ì¥ ì˜†.", images: ["./eunpyeong1.jpg"] }
        ];

        window.moveSlide = function(btn, direction) {
            var container = btn.parentElement;
            var items = container.querySelectorAll('.slide-item');
            var indicator = container.querySelector('.page-indicator');
            var currentIndex = 0;
            for(var i=0; i<items.length; i++) { if(items[i].classList.contains('active')) { currentIndex = i; break; } }
            items[currentIndex].classList.remove('active');
            var nextIndex = currentIndex + direction;
            if (nextIndex >= items.length) nextIndex = 0; if (nextIndex < 0) nextIndex = items.length - 1;
            items[nextIndex].classList.add('active');
            if(indicator) indicator.innerText = (nextIndex + 1) + " / " + items.length;
        }

        for (var i = 0; i < skateParks.length; i ++) {
            var data = skateParks[i];
            var marker = new kakao.maps.Marker({
                map: map, 
                position: new kakao.maps.LatLng(data.lat, data.lng),
                image: markerImage 
            });

            var slidesHtml = `
                <div class="slide-item text-slide active">
                    <div class="info-row"><span class="info-label">â°</span>${data.hours}</div>
                    <div class="info-row"><span class="info-label">ğŸ“</span>${data.desc}</div>
                    <div style="margin-top:10px; font-size:11px; color:#888; text-align:center;">(ì‚¬ì§„ì„ ë³´ë ¤ë©´ í™”ì‚´í‘œ â¯ í´ë¦­)</div>
                </div>
            `;
            if(data.images && data.images.length > 0) {
                for(var j=0; j<data.images.length; j++) {
                    slidesHtml += `<img src="${data.images[j]}" class="slide-item img-slide">`;
                }
            }
            var totalPages = 1 + (data.images ? data.images.length : 0);

            var content = `
                <div class="wrap">
                    <div class="info-header">
                        <span class="info-title">${data.title}</span>
                        <span class="badge ${data.levelClass}">${data.level}</span>
                    </div>
                    <div class="slider-container">
                        <button class="prev-btn" onclick="moveSlide(this, -1)">â®</button>
                        <div class="slides">${slidesHtml}</div>
                        <button class="next-btn" onclick="moveSlide(this, 1)">â¯</button>
                        <div class="page-indicator">1 / ${totalPages}</div>
                    </div>
                </div>
            `;
            var infowindow = new kakao.maps.InfoWindow({ content: content, removable: true });
            (function(marker, infowindow) {
                kakao.maps.event.addListener(marker, 'click', function() {
                    infowindow.open(map, marker);
                });
            })(marker, infowindow);
        }
    </script>
</body>
</html>